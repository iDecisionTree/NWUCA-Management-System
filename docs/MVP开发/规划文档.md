# 第一阶段：最小验证开发(MVP)

### 技术选型：

* **后端 (Golang + Gin + GORM)**: 意味着追求极致的性能、高并发处理能力和更低的服务器资源消耗。
* **前端 (Vue 3 + uni-app + Ant Design Vue)**: 意味着高效的开发体验、强大的跨平台能力（一次开发，可发布为 Web、小程序、App）和成熟美观的后台 UI。

---

### 第一部分：MVP 核心功能清单

**MVP 的目标和功能范围，聚焦于用 2-4 周时间实现一个能解决核心痛点的可用版本。**

* **Epic 1: 核心系统与用户认证**
  * **实现用户登录、登出、JWT 认证。**
  * **创建超级管理员账号。**
* **Epic 2: 组织与人员管理**
  * **实现会员、部门、职务的手动增删改查。**
  * **实现任期分配。**
  * **实现最简化的权限区分（管理员 vs 普通会员）。**

---

### 第二部分：技术方案与选型优化 (Go + Vue)

#### 后端 (`<span>server/</span>`) - 基于 Golang* **语言**: **Go (Golang)**

* **理由**: 编译型语言，性能卓越，静态类型保证了代码的健壮性，非常适合构建需要长期稳定运行的 API 服务。
* **Web 框架**: **Gin**
  * **理由**: Go 领域最流行的 Web 框架之一，以其高性能和极简的 API 设计而闻名。拥有强大的中间件生态，足以满足我们的需求。
* **数据库 ORM**: **GORM**
  * **理由**: Go 社区事实上的标准 ORM，功能全面，支持关联、事务、数据库迁移等，能让您以面向对象的方式与数据库交互，而无需编写原生 SQL。
* **数据库**: **PostgreSQL** 或 **MySQL**
  * **理由**: 两者都是成熟可靠的开源关系型数据库，GORM 对它们都有良好支持。PostgreSQL 在功能上更强大，MySQL 的用户基础更广泛，可根据团队熟悉度选择。
* **认证**: **JWT (JSON Web Tokens)**
  * **实现**: 使用 `<span>golang-jwt/jwt</span>` 库。在用户登录成功后，生成包含用户 ID 和角色的 JWT。后续请求通过一个 Gin 中间件来解析和验证 Token，并将用户信息注入到请求上下文中。
* **推荐项目结构**:

```
/server
|-- 📂 cmd/api/         # 程序入口
|   `-- main.go
|-- 📂 config/          # 配置加载 (config.go, config.yaml)
|-- 📂 internal/        # 内部业务逻辑
|   |-- 📂 handler/     # Gin 处理器 (类似 Controller)
|   |-- 📂 middleware/  # Gin 中间件 (如 JWT 认证)
|   |-- 📂 model/       # GORM 数据模型 (structs)
|   |-- 📂 repository/  # 数据仓库层 (封装 GORM 操作)
|   `-- 📂 service/     # 业务逻辑服务层
|-- go.mod              # Go 模块依赖文件
`-- go.sum
```

#### 前端 (client) - 基于 Vue 3 + uni-app* **框架**: **Vue 3** + **uni-app**

* **理由**: `<span>uni-app</span>` 允许您使用 Vue 3 的语法（特别是 Composition API）进行开发，一次编码即可编译到 Web、iOS/Android App、微信小程序等多个平台。这为项目未来的扩展提供了巨大的想象空间。
* **UI 组件库**: **Ant Design Vue**
  * **理由**: Ant Design 的 Vue 实现，提供了与 React 版本同样高质量和丰富的后台组件。**注意**: Ant Design Vue 主要用于 Web 端。在 `<span>uni-app</span>` 项目中，我们可以通过条件编译，在 H5 平台（Web 端）专门使用它。
* **状态管理**: **Pinia**
  * **理由**: Vue 官方推荐的新一代状态管理库，比 Vuex 更轻量、更简单，并且对 TypeScript 支持非常友好，与 Vue 3 的 Composition API 完美结合。
* **API 请求**: **Axios**
  * **理由**: 依然是最佳选择。可以封装一个请求模块，统一处理请求拦截（添加 JWT）、响应拦截（处理错误码）等。
* **路由管理**: **uni-app 内置路由**
  * **理由**: `<span>uni-app</span>` 通过 `<span>pages.json</span>` 文件来管理所有页面的路由和样式，无需手动安装和配置 `<span>vue-router</span>`。这简化了页面管理。
* **推荐项目结构 (uni-app cli 创建)**:

```
/client
|-- 📂 pages/           # 业务页面
|-- 📂 static/          # 静态资源
|-- 📂 store/           # Pinia 状态管理
|-- 📂 api/             # API 请求封装
|-- 📂 components/      # 可复用组件
|-- main.js             # Vue 初始化
|-- App.vue             # 应用配置，监听应用生命周期
|-- index.html          # H5 模板
|-- pages.json          # 全局页面路由配置
|-- manifest.json       # 应用配置文件 (AppID, 图标等)
`-- package.json
```

---

### 第三部分：下一步行动计划 (Sprint 1) - 优化版1. **环境搭建**:

* **安装 Go 开发环境。**
* **在 **`<span>server/</span>` 目录中，运行 `<span>go mod init NWUCA-Management-System/server</span>` 初始化 Go 模块。然后使用 `<span>go get</span>` 安装 `<span>github.com/gin-gonic/gin</span>`, `<span>gorm.io/gorm</span>`, `<span>gorm.io/driver/postgres</span>`, `<span>github.com/golang-jwt/jwt/v4</span>` 等核心依赖。
* **安装 HBuilderX 或使用 **`<span>vue-cli</span>` 安装 `<span>uni-app</span>` 脚手架。在 client 目录中，创建一个基于 Vue 3 和 Vite 的 `<span>uni-app</span>` 项目。
* **在 client 目录中，安装 **`<span>ant-design-vue</span>`, `<span>pinia</span>`, `<span>axios</span>`。

1. **数据库建模 (GORM)**:

* **在 **`<span>server/internal/model/</span>` 目录下，使用 Go 的 `<span>struct</span>` 定义 `<span>User</span>`, `<span>Member</span>`, `<span>Department</span>` 等核心数据模型，并添加 GORM 标签。
* **编写一个简单的数据库迁移脚本或在程序启动时使用 **`<span>db.AutoMigrate()</span>` 来自动创建表结构。

1. **后端开发 (Go/Gin)**:

* **在 **`<span>cmd/api/main.go</span>` 中初始化 Gin 引擎。
* **在 **`<span>internal/handler/</span>` 中开发用户登录的 Handler。
* **在 **`<span>internal/middleware/</span>` 中开发 JWT 认证中间件。
* **在 **`<span>internal/service/</span>` 和 `<span>internal/repository/</span>` 中实现数据库的连接和用户查询逻辑。

1. **前端开发 (Vue/uni-app)**:

* **在 **`<span>pages.json</span>` 中配置好登录页和后台主页的路由。
* **在 **`<span>main.js</span>` 中引入并注册 Ant Design Vue 和 Pinia。
* **创建登录页面，对接后端 API。登录成功后，将 JWT 存入 Pinia 或本地存储，并跳转到后台主页。**
* **在 **`<span>uni-app</span>` 的路由拦截器（`<span>uni.addInterceptor</span>`）中实现路由守卫，检查 Token，实现未登录跳转。
* **使用 Ant Design Vue 的 **`<span>a-layout</span>` 组件搭建后台基本布局。

**这套优化后的方案完全符合您的技术要求，并且是一套非常现代、高性能的组合。祝您开发顺利！**
